<?xml version="1.0" encoding="utf-8"?>
<odoo>

	
	<!-- /shop Brands listing -->
	
	<!--======================= Ecommerce Categories ==========================-->
	
	<!-- Category Country filter -->
	<!-- This form visible in webiste header to filter based on category country -->
	<template id="products_categories_country_filter" active="True" customize_show="True"
              name="Ecommerce Country Categories">
        <xpath expr="//button[@data-target='#wsale_products_categories_collapse']" position="before">
            <div class="" style="padding-bottom:4px;">
                Country Category 
                <form action="/shop" method="post" id="form_load">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                  <!-- <div style="position: absolute;" class="form-group">
                    <span id="reset_btn" style="margin-bottom: -12px;width: 75px;margin-left: 103px;height: 24px;font-size: 14px;" class="btn-search">Reset</span>
                  </div> -->
                  <div class="">
                  	<t t-set="website_country_categ_ids" t-value="request.env['product.public.category'].sudo().search([('country_website_fitler','=',True)])"/>
                  	<!-- <t t-esc="country_categ_id"/> set ID -->
                    <select id="country_filter_id" name="country_filter_id" t-attf-class="form-control" style="width:47% !important;float:left;">
                      <option value="">select...</option>
                      <t t-foreach="website_country_categ_ids" t-as="website_country_categ_id">
                        <option t-att-value="website_country_categ_id.id" t-att-selected="website_country_categ_id.id == country_categ_id">
                          <t t-esc="website_country_categ_id.name"/>
                        </option>
                      </t>
                    </select>
                  </div>
                  <input type="submit" style="width:23%;height:12.5mm;" class="btn-search" value="search" />
                  <input id="reset_btn" type="submit" style="width:23%;height:12.5mm;" class="btn-search" value="Reset" />
                  <!-- <div style="position: absolute;" class="form-group">
                            <span id="reset_btn" style="margin-bottom: -12px;width: 75px;margin-left: 103px;height: 24px;font-size: 14px;" class="btn-search">Reset</span>
                          </div>
                  <br/> -->
                </form>
            </div>
            
        </xpath>
       
    </template>
    
    
    <template id="products_categories_country_top_menu" active="True" customize_show="True">
    
	     <div class="col-lg-3 te_header_style_2_right">
	            <t t-set="website_country_categ_ids" t-value="request.env['product.public.category'].sudo().search([('country_website_fitler','=',True)])"/>
	            
	            <t t-set="country_filter_id" id="current_country_filter_id" t-value="request.session.get('country_filter_id',0)"/>
	            
		        <div t-attf-class="dropdown#{'' if website_country_categ_ids and website_country_categ_ids else ' d-none'} #{_classes}">
		            <t t-set="co_categ_id" t-value="request.env['product.public.category'].sudo().search([('id','=',country_filter_id)])" />
		            <a role="button" href="#" class="dropdown-toggle btn btn-secondary" data-toggle="dropdown">
		            	<img class="o_lang_flag" id="country_image_id" t-attf-src="/website/image/product.public.category/{{co_categ_id.id}}/image_1920/90x90" t-if="co_categ_id"/>
		                <span id="countrys_categ_id" ><t t-esc="co_categ_id and co_categ_id.name or ' - '" /></span>
		            </a>
		            <div class="dropdown-menu" role="menu">
		                <t t-foreach="website_country_categ_ids" t-as="co_categ">
		                    <a role="menuitem" t-att-href="'/shop/change_category_country/%s' % co_categ.id" t-att-data-country_categ_id="co_categ.id" class="dropdown-item change_country_button">
		                        <span class="switcher_pricelist change_country_button" t-att-data-country_categ_id="co_categ.id" t-esc="co_categ.name" />
		                    </a>
		                </t>
		            </div>
		        </div>
	     </div>
     
     </template>
    
    <template id="products_categories_brand_country_filter" active="True" customize_show="True"
              name="Ecommerce Country Categories">
        <xpath expr="//button[@data-target='#wsale_products_categories_collapse']" position="before">
            <div class="" style="padding-bottom:4px;">
                Country Category 
                <form t-att-action="keep('/brand/'+ slug(brand_id))" method="post" id="form_load">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                  <!-- <div style="position: absolute;" class="form-group">
                    <span id="reset_btn" style="margin-bottom: -12px;width: 75px;margin-left: 103px;height: 24px;font-size: 14px;" class="btn-search">Reset</span>
                  </div> -->
                  <div class="">
                  	<t t-set="website_country_categ_ids" t-value="request.env['product.public.category'].sudo().search([('country_website_fitler','=',True)])"/>
                  	<!-- <t t-esc="country_categ_id"/> set ID -->
                    <select id="country_filter_id" name="country_filter_id" t-attf-class="form-control" style="width:47% !important;float:left;">
                      <option value="">select...</option>
                      <t t-foreach="website_country_categ_ids" t-as="website_country_categ_id">
                        <option t-att-value="website_country_categ_id.id" t-att-selected="website_country_categ_id.id == country_categ_id">
                          <t t-esc="website_country_categ_id.name"/>
                        </option>
                      </t>
                    </select>
                  </div>
                  <input type="submit" style="width:23%;height:12.5mm;" class="btn-search" value="search" />
                  <input id="reset_btn" type="submit" style="width:23%;height:12.5mm;" class="btn-search" value="Reset" />
                  <!-- <div style="position: absolute;" class="form-group">
                            <span id="reset_btn" style="margin-bottom: -12px;width: 75px;margin-left: 103px;height: 24px;font-size: 14px;" class="btn-search">Reset</span>
                          </div>
                  <br/> -->
                </form>
            </div>
            
        </xpath>
       
    </template>
	
	
	
    <template id="brands" name="Brands">
    
    	<t t-call="website.layout">
				<style>
					.vendor_image {
					min-height:100px;
					postion: relative
					}
					.vendor_image a {
						position: absolute;
						width: 50%;
						top: 40%;
						transform: translate(-50%, -50%);
						left: 50%;
					}
					
					    border-top: 1px solid #ced4da;
					    border-bottom: 1px solid #ced4da;
					    padding: 0;
					}
				</style>
				<div class="container py-2 oe_website_sale">
					<div  id="wrap" class="oe_structure">
						<section class="section">
							<div class="container">
								<form method="post" t-if="brand_ids">
									<div class="row mb32 mt32">
										<t t-foreach="brand_ids" t-as="brand_id">
											<div class="col-md-2 col-sm-4" style="border: 1px solid #ced4da;">
												<div class="tema-member">
													<div class="vendor_image">
														<a t-att-href="keep('/brand/'+ slug(brand_id))">
															<div class="team-thumbnail">
																<span t-field="brand_id.logo"
																	t-options='{"widget": "image"}' />

																<div class="overlay">
																</div>
															</div>
														</a>
													</div>
													<div class="info" style="text-align:center;">
														<h6 class="o_default_snippet_text">
															<t t-esc="brand_id.name" />
														</h6>
													</div>
												</div>
											</div>
										</t>
									</div>
								</form>
								
								<div class="col-lg-12" t-if="not brand_ids">
		                                <div class="text-center text-muted">
		                                    <h3 class="css_editable_display mt8">No brand defined.</h3>
		                                </div>
		                        </div>
							
							</div>
						</section>
					</div>
				</div>
			</t>
    
    </template>
    
     <!-- /shop product listing -->
    <template id="brand_products" name="Brand Products">
        <!-- <t t-call="website.layout">
            <t t-set="additional_title">Shop</t> -->
            <div id="wrap" class="js_sale">
                <div class="oe_structure oe_empty" id="oe_structure_website_sale_products_1"/>
                <div class="container oe_website_sale">
                	<div class="products_pager form-inline flex-md-nowrap justify-content-between justify-content-md-center">
                        <t t-call="website.pager">
                            <t t-set="_classes" t-valuef="mt-2 ml-md-2"/>
                        </t>
                        <t t-call="custom_brand_page.brand_product_sort" t-if="bins"/>
                    </div>
                    
                    
                    <div class="row o_wsale_products_main_row">
                        <div t-if="enable_left_column" id="products_grid_before" class="col-lg-3"/>
                        <div id="products_grid" t-attf-class="col #{'o_wsale_layout_list' if layout_mode == 'list' else ''}">
                            <div t-if="bins" class="o_wsale_products_grid_table_wrapper">
                                <table class="table table-borderless m-0" t-att-data-ppg="ppg" t-att-data-ppr="ppr">
                                    <colgroup t-ignore="true">
                                        <!-- Force the number of columns (useful when only one row of (x < ppr) products) -->
                                        <col t-foreach="ppr" t-as="p"/>
                                    </colgroup>
                                    <tbody>
                                        <tr t-foreach="bins" t-as="tr_product">
                                            <t t-foreach="tr_product" t-as="td_product">
                                                <t t-if="td_product">
                                                    <t t-set="product" t-value="td_product['product']" />
                                                    <!-- We use t-attf-class here to allow easier customization -->
                                                    <td t-att-colspan="td_product['x'] != 1 and td_product['x']"
                                                        t-att-rowspan="td_product['y'] != 1 and td_product['y']"
                                                        t-attf-class="oe_product"
                                                        t-att-data-ribbon-id="td_product['ribbon'].id">
                                                        <div t-attf-class="o_wsale_product_grid_wrapper o_wsale_product_grid_wrapper_#{td_product['x']}_#{td_product['y']}">
                                                            <t t-call="custom_brand_page.brand_products_item">
                                                                <t t-set="product_image_big" t-value="td_product['x'] + td_product['y'] &gt; 2"/>
                                                            </t>
                                                        </div>
                                                    </td>
                                                </t>
                                                <td t-else=""/>
                                            </t>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <t t-if="not bins">
                                <div class="text-center text-muted">
                                    <t>
                                        <h3 class="mt8">No product defined</h3>
                                        <p t-if="brand_id">No product defined in brand "<strong t-esc="brand_id.display_name"/>".</p>
                                    </t>
                                    <p t-ignore="true" groups="sales_team.group_sale_manager">Click <i>'New'</i> in the top-right corner to create your first product.</p>
                                </div>
                            </t>
                            
                            
                        </div>
                    </div>
                
              		<div class="products_pager form-inline justify-content-center py-3">
                        <t t-call="website.pager"/>
                    </div>
                    
                </div>
                 
            </div>
    </template>
    
    
     <template id="brand_products_item" name="Products item">
		<t t-set="product_href" t-value="keep('/brand/product/%s' % slug(product), category=int(category.id) if category else 0, page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))" />
        <t t-set="combination_info" t-value="product._get_combination_info(only_template=True, add_qty=add_qty or 1, pricelist=pricelist)"/>
        
        <form action="/shop/cart/update" method="post" class="card oe_product_cart"
            t-att-data-publish="product.website_published and 'on' or 'off'"
            itemscope="itemscope" itemtype="http://schema.org/Product">
            <div class="card-body p-1 oe_product_image">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                <a t-att-href="product_href" class="d-block h-100" itemprop="url">
                    <span t-field="product.image_1920"
                        t-options="{'widget': 'image', 'preview_image': 'image_1024' if product_image_big else 'image_256'}"
                        class="d-flex h-100 justify-content-center align-items-center"/>
                </a>
            </div>
            <div class="card-body p-0 text-center o_wsale_product_information">
                <div class="p-2 o_wsale_product_information_text">
                    <h6 class="o_wsale_products_item_title">
                        <a itemprop="name" t-att-href="product_href" t-att-content="product.name" t-field="product.name" />
                        <a role="button" t-if="not product.website_published" t-att-href="product_href" class="btn btn-sm btn-danger" title="This product is unpublished.">Unpublished</a>
                    </h6>
                    <div class="product_price" itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer">
                        <del t-attf-class="text-danger mr-2 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}" />
                        <span t-if="combination_info['price']" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                        <span itemprop="price" style="display:none;" t-esc="combination_info['price']" />
                        <span itemprop="priceCurrency" style="display:none;" t-esc="website.currency_id.name" />
                    </div>
                </div>
                <div class="o_wsale_product_btn"/>
            </div>
            <t t-set="bg_color" t-value="td_product['ribbon']['bg_color'] or ''"/>
            <t t-set="text_color" t-value="td_product['ribbon']['text_color']"/>
            <t t-set="bg_class" t-value="td_product['ribbon']['html_class']"/>
            <span t-attf-class="o_ribbon #{bg_class}" t-attf-style="#{text_color and ('color: %s; ' % text_color)}#{bg_color and 'background-color:' + bg_color}" t-raw="td_product['ribbon']['html'] or ''"/>
        </form>
    </template>
    
    <template id="brand_add_to_compare" inherit_id="custom_brand_page.brand_products_item" customize_show="True" name="Comparison List" priority="22">
        <xpath expr="//div[hasclass('o_wsale_product_btn')]" position="inside">
            <t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
            <button t-if="product_variant_id" type="button" role="button" class="d-none d-md-inline-block btn btn-secondary o_add_compare" title="Compare" aria-label="Compare" t-att-data-product-product-id="product_variant_id" data-action="o_comparelist"><span class="fa fa-exchange"></span></button>
        </xpath>
    </template>
    
    <template id="brand_add_to_wishlist" inherit_id="custom_brand_page.brand_products_item" customize_show="True" name="Wishlist Button" priority="20">
        <xpath expr="//div[hasclass('o_wsale_product_btn')]" position="inside">
            <t t-set="in_wish" t-value="product._is_in_wishlist()"/>
            <t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
            <button t-if="product_variant_id" type="button" role="button" class="btn btn-secondary o_add_wishlist" t-att-disabled='in_wish or None' title="Add to Wishlist" t-att-data-product-template-id="product.id" t-att-data-product-product-id="product_variant_id" data-action="o_wishlist"><span class="fa fa-heart" role="img" aria-label="Add to wishlist"></span></button>
        </xpath>
    </template>
    
    
    <template id="brand_products_description" inherit_id="custom_brand_page.brand_products_item" active="False" customize_show="True" name="Product Description">
        <xpath expr="//*[hasclass('product_price')]" position="after">
            <div class="oe_subdescription" contenteditable="false">
                <div itemprop="description" t-field="product.description_sale"/>
            </div>
        </xpath>
    </template>

    <template id="products_add_to_cart" inherit_id="custom_brand_page.brand_products_item" active="False" customize_show="True" name="Add to Cart">
        <xpath expr="//div[hasclass('o_wsale_product_btn')]" position="inside">
            <t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
            <input name="product_id" t-att-value="product_variant_id" type="hidden"/>
            <t t-if="product_variant_id">
                <a href="#" role="button" class="btn btn-secondary a-submit" aria-label="Shopping cart" title="Shopping cart">
                    <span class="fa fa-shopping-cart"/>
                </a>
            </t>
        </xpath>
    </template>
    
    <template id="brand_clarico_shop_products_label" inherit_id="custom_brand_page.brand_products_item" priority="23" active="True">
        <xpath expr="//div[hasclass('oe_product_image')]" position="inside">
            <div t-if="product.label_line_ids">
                <t t-foreach="product.label_line_ids" t-as="labels">
                    <t t-if="labels.website_id.id == website.id">
                        <t t-call="theme_clarico_vega.common_label_ept" />
                    </t>
                </t>
            </div>
        </xpath>
    </template>
    
    <template id="brand_quickview_icon_shop_product_item" inherit_id="custom_brand_page.brand_products_item">
        <xpath expr="//div[hasclass('o_wsale_product_btn')]" position="inside">
            <a title="Quick View" class="btn btn-secondary quick-view-a te_quick_view"
               t-att-data-id="'%s' % product.id">
                <span class="fa fa-eye"/>
            </a>
        </xpath>
    </template>
    
    
    <template id="brand_products_item_ept" inherit_id="custom_brand_page.brand_products_item">
        <xpath expr="//div[hasclass('oe_product_image')]" position="inside">
            <span t-if="request.website.viewref('website_sale.product_comment').active and product.rating_avg > 0" class="rating-avg">
                <span t-esc="product.rating_avg"/>
                <span class="fa fa-star"/>
                <span class="product-separator">|</span>
                <span t-esc="product.rating_count"/>
            </span>
        </xpath>
        <xpath expr="//a[@t-att-href='product_href']" position="replace">
            <a t-att-href="product_href" class="d-block h-100" itemprop="url">
                <t t-if="website.is_lazy_load">
                    <span class="new_span d-flex h-100 justify-content-center align-items-center">
                        <img t-attf-data-src="/web/image/product.template/#{product.id}/#{'image_1024' if product_image_big else 'image_256'}"
                             t-attf-src="/web/image/website/#{website.id}/lazy_load_image"
                             class="img img-fluid lazyload"
                             alt="Product image"/>
                    </span>
                </t>
                <t t-else="">
                    <span t-field="product.image_1920"
                          t-options="{'widget': 'image', 'preview_image': 'image_1024' if product_image_big else 'image_256'}"
                          class="new_span d-flex h-100 justify-content-center align-items-center"/>
                </t>
            </a>
        </xpath>
        <xpath expr="//h6[hasclass('o_wsale_products_item_title')]/a" position="attributes">
            <attribute name="t-attf-class">
                product_name
                #{'te_2_line' if (website.number_of_product_line == '2') else 'te_3_line' if (website.number_of_product_line == '3') else ''}
            </attribute>
        </xpath>
        <xpath expr="//div[hasclass('o_wsale_product_information_text')]" position="attributes">
            <attribute name="t-attf-class">
                p-2 o_wsale_product_information_text
                #{'te_shop_icon' if request.website.viewref('theme_clarico_vega.quickview_icon_shop_product_item').active or request.website.viewref('website_sale_wishlist.add_to_wishlist').active or request.website.viewref('website_sale.products_add_to_cart').active or request.website.viewref('website_sale_comparison.add_to_compare').active else 'te_shop_icon_not'}
            </attribute>
        </xpath>
        <xpath expr="//div[hasclass('o_wsale_product_information')]" position="attributes">
            <attribute name="class">card-body p-0 te_product_info o_wsale_product_information</attribute>
        </xpath>
    </template>
    
    
    <template id="brand_product_sort" active="True" customize_show="True" name="Show Sort by">
            <t t-set="list_price_desc_label">Catalog price: High to Low</t>
            <t t-set="list_price_asc_label">Catalog price: Low to High</t>
            <t t-set="name_asc_label">Name: A to Z</t>
            <t t-set="name_desc_label">Name: Z to A</t>
            <t t-set="website_sale_sortable" t-value="[
                ('New Arrivals', 'create_date desc'),
                
                (list_price_desc_label, 'list_price desc'),
                (list_price_asc_label, 'list_price asc'),
                (name_asc_label, 'name asc'),
                (name_desc_label, 'name desc')
            ]"/>
            <t t-set="website_sale_sortable_current" t-value="[sort for sort in website_sale_sortable if sort[1]==request.params.get('order', '')]"/>
            <div class="dropdown mt-2 ml-md-2 dropdown_sorty_by">
                <a role="button" href="#" class="dropdown-toggle btn btn-secondary" data-toggle="dropdown">
                    <span class="d-none d-lg-inline">
                        <t t-if='len(website_sale_sortable_current)'>
                            Sorting by : <t t-raw='website_sale_sortable_current[0][0]'/>
                        </t>
                        <t t-else='1'>
                            Sort by
                        </t>
                    </span>
                    <i class="fa fa-sort-amount-asc d-lg-none"/>
                </a>
                <div class="dropdown-menu dropdown-menu-right" role="menu">
                
                    <t t-foreach="website_sale_sortable" t-as="sortby">
                        <a role="menuitem" rel="noindex,nofollow" t-att-href="keep('/brand/'+ slug(brand_id) +(('/category/'+slug(category)) if category else ''), order=sortby[1])" class="dropdown-item">
                            <span t-raw="sortby[0]"/>
                        </a>
                    </t>
                </div>
            </div>
    </template>
    
    <template id="brand_sort_ept" inherit_id="custom_brand_page.brand_product_sort">
        <xpath expr="//div[hasclass('dropdown_sorty_by')]/a[hasclass('btn')]" position="attributes">
            <attribute name="class">dropdown-toggle btn te_sort_btn</attribute>
        </xpath>
        <xpath expr="//div[hasclass('dropdown_sorty_by')]" position="attributes">
            <attribute name="class">dropdown mt-3 ml-sm-2 dropdown_sorty_by</attribute>
        </xpath>
    </template>
    
    <template id="brand_add_grid_or_list_option" inherit_id="custom_brand_page.brand_products" active="True" customize_show="True" name="Grid or List button">
        <xpath expr="//div[hasclass('products_pager')]/t[@t-call][last()]" position="after">
            <div class="btn-group btn-group-toggle mt-2 ml-md-2 d-none d-sm-inline-flex o_wsale_apply_layout" data-toggle="buttons">
                <label t-attf-class="btn btn-secondary #{'active' if layout_mode != 'list' else None} fa fa-th-large o_wsale_apply_grid" title="Grid">
                    <input type="radio" name="wsale_products_layout" t-att-checked="'checked' if layout_mode != 'list' else None"/>
                </label>
                <label t-attf-class="btn btn-secondary #{'active' if layout_mode == 'list' else None} fa fa-th-list o_wsale_apply_list" title="List">
                    <input type="radio" name="wsale_products_layout" t-att-checked="'checked' if layout_mode == 'list' else None"/>
                </label>
            </div>
        </xpath>
    </template>
    
    
    
    <!-- Add to Brand Product button-->
    <template id="brand_categories_recursive" name="Category list">
        <li class="nav-item">
           <!--  <a t-att-href="keep('/shop/category/' + slug(c), category=0)" t-attf-class="nav-link #{'active' if c.id == category.id else ''}">
                <span t-field="c.name"/>
            </a> -->
            <a t-att-href="keep('/brand/category/' + slug(c), category=0, brand_id=int(brand_id.id))" t-attf-class="nav-link#{' active' if c.id == category.id else ''}">
            	<span t-field="c.name"/>
            </a>
            <ul t-if="c.child_id" class="nav nav-pills flex-column nav-hierarchy">
                <t t-foreach="c.child_id" t-as="c">
                    <t t-if="c.id in search_categories_ids">
                        <t t-call="custom_brand_page.brand_categories_recursive" />
                    </t>
                </t>
            </ul>
        </li>
    </template>
    
    
	<template id="brand_option_collapse_categories_recursive" name="Collapse Category Recursive">
        <li class="nav-item">
            <t t-set="children" t-value="c.child_id.filtered(lambda c: c.id in search_categories_ids)"/>
            <i t-if="children" t-attf-class="text-primary fa #{'fa-chevron-down' if c.id in category.parents_and_self.ids else 'fa-chevron-right'}"
               t-attf-title="#{'Unfold' if c.id in category.parents_and_self.ids else 'Fold'}"
               t-attf-aria-label="#{'Unfold' if c.id in category.parents_and_self.ids else 'Fold'}" role="img"/>
            <!-- <a t-att-href="keep('/shop/category/' + slug(c), category=0)" t-attf-class="nav-link #{'active' if c.id == category.id else ''}" t-field="c.name"></a> -->
            <a t-att-href="keep('/brand/category/' + slug(c), category=0, brand_id=int(brand_id.id))" t-attf-class="nav-link#{' active' if c.id == category.id else ''}" t-field="c.name"/>
            <ul t-if="children" class="nav nav-pills flex-column nav-hierarchy" t-att-style="'display:block;' if c.id in category.parents_and_self.ids else 'display:none;'">
                <t t-foreach="children" t-as="c">
                    <t t-call="custom_brand_page.brand_option_collapse_categories_recursive"/>
                </t>
            </ul>
        </li>
    </template>
    
    
        <!-- (Option) Products: Enable image full for all products : Images Full -->
    <template id="products_images_full" name="Images Full" inherit_id="custom_brand_page.brand_products" active="False" customize_show="True">
        <xpath expr="//t[@t-foreach='tr_product']//td" position="attributes">
            <attribute name="t-attf-class" add="oe_image_full" separator=" "/>
        </xpath>
    </template>
    

    
    <template id="brand_products_categories" inherit_id="custom_brand_page.brand_products" active="False" customize_show="True" name="eCommerce Categories">
        <xpath expr="//div[@id='products_grid_before']" position="before">
            <t t-set="enable_left_column" t-value="True"/>
        </xpath>
        <xpath expr="//div[@id='products_grid_before']" position="inside">
            <button type="button" class="btn btn-link d-lg-none"
                data-target="#wsale_products_categories_collapse" data-toggle="collapse">
                Show categories
            </button>
            <div class="collapse d-lg-block" id="wsale_products_categories_collapse">
                <ul class="nav nav-pills flex-column mb-2">
                    <li class="nav-item">
                        <a t-att-href="keep('/brand/'+ slug(brand_id))" >All Products</a>
                        <!-- <a t-att-href="keep('/brand/'+ slug(brand_id))" t-attf-class="nav-link #{'' if category else 'active'} o_not_editable">All Products</a> -->
                    </li>
                    <t t-foreach="categories" t-as="c">
                        <t t-call="custom_brand_page.brand_categories_recursive" />
                    </t>
                </ul>
            </div>
        </xpath>
        
    </template>
    
    
    <template id="brand_option_collapse_products_categories" name="Collapsible Category List" inherit_id="custom_brand_page.brand_products_categories" active="False" customize_show="True">
        <xpath expr="//div[@id='wsale_products_categories_collapse']/ul" position="attributes">
            <attribute name="id">o_shop_collapse_category</attribute>
        </xpath>
        <xpath expr="//t[@t-call='custom_brand_page.brand_categories_recursive']" position="attributes">
            <attribute name="t-call">custom_brand_page.brand_option_collapse_categories_recursive</attribute>
        </xpath>
    </template> 
    
    
    <template id="products_list_view" inherit_id="custom_brand_page.brand_products" active="False" customize_show="True" name="List View (by default)">
        <xpath expr="//div[@id='products_grid']" position="after">
            <!-- Nothing to do, this view is only meant to allow the server -->
            <!-- to know if the list view layout should be used -->
        </xpath>
    </template>
    
    <template id="products_quick_view" inherit_id="custom_brand_page.brand_products">
        <xpath expr="//div[hasclass('oe_website_sale')]" position="inside">
            <div class="modal fade" id="quick_view_model_shop" tabindex='-1'>
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content quick_view_modal">
                        <button type="button" class="quick_close" data-dismiss="modal"
                                aria-label="Close" tabindex="-1">
                        </button>
                        <div class="modal-body">
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
    </template>
    
    
    
    
    <template id="brand_products_attributes" inherit_id="custom_brand_page.brand_products" active="False" customize_show="True" name="Product Attribute's Filters">
        <xpath expr="//div[@id='products_grid_before']" position="before">
            <t t-set="enable_left_column" t-value="True"/>
        </xpath>
        <xpath expr="//div[@id='products_grid_before']" position="inside">
            <button type="button" class="btn btn-link d-lg-none"
                data-target="#wsale_products_attributes_collapse" data-toggle="collapse">
                Show options
            </button>
            <div class="collapse d-lg-block" id="wsale_products_attributes_collapse">
                <form class="js_attributes mb-2" method="get">
                    <input t-if="category" type="hidden" name="category" t-att-value="category.id" />
                    <input type="hidden" name="search" t-att-value="search" />
                    <ul class="nav nav-pills flex-column">
                        <t t-foreach="attributes" t-as="a">
                            <li t-if="a.value_ids and len(a.value_ids) &gt; 1" class="nav-item">
                                <div>
                                    <strong t-field="a.name" />
                                </div>
                                <t t-if="a.display_type == 'select'">
                                    <select class="form-control" name="attrib">
                                        <option value="" />
                                        <t t-foreach="a.value_ids" t-as="v">
                                            <option t-att-value="'%s-%s' % (a.id,v.id)" t-esc="v.name" t-att-selected="v.id in attrib_set" />
                                        </t>
                                    </select>
                                </t>
                                <t t-if="a.display_type == 'radio'">
                                    <ul class="nav nav-pills flex-column">
                                        <t t-foreach="a.value_ids" t-as="v">
                                            <li class="nav-item">
                                                <label style="margin: 0 20px;" t-attf-class="nav-link#{' active' if v.id in attrib_set else ''}">
                                                    <input type="checkbox" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)" t-att-checked="'checked' if v.id in attrib_set else None" />
                                                    <span style="font-weight: normal" t-field="v.name" />
                                                </label>
                                            </li>
                                        </t>
                                    </ul>
                                </t>
                                <t t-if="a.display_type == 'color'">
                                    <t t-foreach="a.value_ids" t-as="v">
                                        <label t-attf-style="background-color:#{v.html_color or v.name}" t-attf-class="css_attribute_color #{'active' if v.id in attrib_set else ''}">
                                            <input type="checkbox" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)" t-att-checked="'checked' if v.id in attrib_set else None" t-att-title="v.name" />
                                        </label>
                                    </t>
                                </t>
                            </li>
                        </t>
                    </ul>
                </form>
            </div>
        </xpath>
    </template>
    
    	
    <!--========================= Product Attributes ==========================-->
    <template id="brand_products_attributes_ept" inherit_id="custom_brand_page.brand_products_attributes">
        <xpath expr="//form/input[@name='search']" position="before">
            <t t-set="attrib_list" t-value="request.httprequest.args.getlist('attrib')"/>
            <t t-set="attrib_values" t-value="[[int(x) for x in v.split('-')] for v in attrib_list if v]"/>
            <t t-set="attrib_set" t-value="{v[1] for v in attrib_values if v[0] != 0}"/>
        </xpath>
        <xpath expr="//form[hasclass('js_attributes')]//ul" position="replace">
            <t t-set="is_associated_values_enabled"
               t-value="request.website.viewref('theme_clarico_vega.display_product_associate_attribute_value_ept').active"/>
            <t t-set="is_count_enable"
               t-value="request.website.viewref('theme_clarico_vega.website_attribute_values_count_ept').active"/>
            <!-- <t t-set="search_products"
               t-value="website.get_shop_products(search=search, category=category,attrib_values=attrib_values)"/> -->
            <t t-set="search_products" t-value="[attributes_products, attributes_products]"/>
            <t t-set="allowed_attr_value_ids"
               t-value="search_products and search_products[0].attribute_line_ids.value_ids.ids"/>
            <ul class="nav nav-pills flex-column te_shop_attr_ul attribute_ul_ept">
                <t t-foreach="attributes" t-as="a" t-if="website.id not in a.exclude_website_ids.ids">
                    <li t-if="a.value_ids and len(a.value_ids) &gt; 1" class="nav-item">
                        <div class="te_attr_title">
                            <span t-field="a.name"/>
                            <a t-att-attribute-name="a.id" class="te_clear_all_variant">(Clear)</a>
                        </div>
                        <t t-if="a.display_type == 'select'">
                            <select class="form-control" name="attrib">
                                <option value=""/>
                                <t t-foreach="a.value_ids" t-as="v">
                                    <t t-if="is_associated_values_enabled">
                                        <t t-if="v.id in allowed_attr_value_ids">
                                            <option t-if="is_count_enable" t-att-value="'%s-%s' % (a.id,v.id)"
                                                    t-esc="'%s (%s)'% (v.name, len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"
                                                    t-att-selected="v.id in attrib_set"/>
                                            <option t-if="not is_count_enable" t-att-value="'%s-%s' % (a.id,v.id)"
                                                    t-esc="v.name" t-att-selected="v.id in attrib_set"/>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <option t-if="is_count_enable" t-att-value="'%s-%s' % (a.id,v.id)"
                                                t-esc="'%s (%s)'% (v.name,len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"
                                                t-att-selected="v.id in attrib_set"/>
                                        <option t-if="not is_count_enable" t-att-value="'%s-%s' % (a.id,v.id)"
                                                t-esc="v.name" t-att-selected="v.id in attrib_set"/>
                                    </t>
                                </t>
                            </select>
                        </t>
                        <t t-if="a.display_type == 'radio'">
                            <ul class="nav nav-pills flex-column">
                                <t t-foreach="a.value_ids" t-as="v">
                                    <t t-if="is_associated_values_enabled">
                                        <t t-if="v.id in allowed_attr_value_ids">
                                            <li class="nav-item">
                                                <label style="margin: 0 20px;"
                                                       t-attf-class="nav-link#{' active' if v.id in attrib_set else ''}">
                                                    <input type="checkbox" name="attrib"
                                                           t-att-value="'%s-%s' % (a.id,v.id)"
                                                           t-att-checked="'checked' if v.id in attrib_set else None"/>
                                                    <span style="font-weight: normal" t-field="v.name"/>
                                                    <span style="font-weight: normal" class="te_prod_num"
                                                          t-if="is_count_enable"
                                                          t-esc="'(%s)'% (len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"/>
                                                </label>
                                            </li>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <li class="nav-item">
                                            <label style="margin: 0 20px;"
                                                   t-attf-class="nav-link#{' active' if v.id in attrib_set else ''}">
                                                <input type="checkbox" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)"
                                                       t-att-checked="'checked' if v.id in attrib_set else None"/>
                                                <span style="font-weight: normal" t-field="v.name"/>
                                                <span style="font-weight: normal" class="te_prod_num"
                                                      t-if="is_count_enable"
                                                      t-esc="'(%s)'% (len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"/>
                                            </label>
                                        </li>
                                    </t>
                                </t>
                            </ul>
                        </t>
                        <t t-if="a.display_type == 'color'">
                            <ul class="nav nav-pills flex-column">
                                <t t-foreach="a.value_ids" t-as="v">
                                    <t t-if="is_associated_values_enabled">
                                        <t t-if="v.id in allowed_attr_value_ids">
                                            <li class="color-with-name-divmaxW nav-item">
                                                <label t-attf-style="background-color:#{v.html_color or v.name}"
                                                       t-attf-class="css_attribute_color #{'active' if v.id in attrib_set else ''}">
                                                    <input type="checkbox" name="attrib"
                                                           t-att-value="'%s-%s' % (a.id,v.id)"
                                                           t-att-checked="'checked' if v.id in attrib_set else None"
                                                           t-att-title="v.name"/>
                                                </label>
                                                <span class="te_color-name" t-esc="v.name"/>
                                                <span style="font-weight: normal" t-if="is_count_enable"
                                                      t-esc="'(%s)'% (len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"/>
                                            </li>
                                        </t>
                                    </t>
                                    <t t-else="">
                                    
                                        <li class="color-with-name-divmaxW nav-item">
                                            <label t-attf-style="background-color:#{v.html_color or v.name}"
                                                   t-attf-class="css_attribute_color #{'active' if v.id in attrib_set else ''}">
                                                <input type="checkbox" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)"
                                                       t-att-checked="'checked' if v.id in attrib_set else None"
                                                       t-att-title="v.name"/>
                                            </label>
                                            <span class="te_color-name" t-esc="v.name"/>
                                            <span style="font-weight: normal" t-if="is_count_enable"
                                                  t-esc="'(%s)'% (len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"/>
                                        </li>
                                    </t>
                                </t>
                            </ul>
                        </t>
                    </li>
                </t>
                <!-- <t t-set="is_brand_filter_enabled"
                   t-value="request.website.viewref('theme_clarico_vega.product_brand_attribute_custom').active"/>
                <t t-set='products_ept' t-value="search_products and search_products[1]"/>
                <t t-if="is_brand_filter_enabled">
                    <t t-if="not is_brand_page">
                        <t t-set="brand_list"
                           t-value="products_ept.mapped('product_brand_ept_id').filtered(lambda r:r.website_published) if is_associated_values_enabled else request.env['product.brand.ept'].sudo().search([('website_published','=', True),('website_id', 'in', (False,website.id))]).filtered(lambda r:r.products_count > 0)"/>
                        <t t-if="brand_list">
                            <li class="nav-item">
                                <div class="te_attr_title">
                                    <span>Brand</span>
                                    <a class="te_clear_all_variant">(Clear)</a>
                                </div>
                                <ul class="nav nav-pills flex-column brand_main">
                                    <t t-foreach="brand_list" t-as="brand">
                                        <li class="nav-item">
                                            <label style="margin: 0 20px;"
                                                   t-attf-class="nav-link#{' active' if [0,brand.id] in attrib_values else ''}">
                                                <input type="checkbox" name="attrib" t-att-value="'0-%s' % (brand.id)"
                                                       t-att-checked="'checked' if [0,brand.id] in attrib_values else None"/>
                                                <span style="font-weight: normal" t-field="brand.name"/>
                                                <span style="font-weight: normal"
                                                      t-if="is_count_enable and search_products"
                                                      t-esc="'(%s)'% (len(search_products[0].filtered(lambda r:r.id in brand.product_ids.ids)))"/>
                                            </label>
                                        </li>
                                    </t>
                                </ul>
                            </li>
                        </t>
                    </t>
                </t> -->
            </ul>
        </xpath>

        <!-- Quick Filter-->
        <!-- <xpath expr="//form[hasclass('js_attributes')]/ul[hasclass('te_shop_attr_ul')]" position="after">
            <div class="te_quick_filter_dropdown_menu mb16">
                <span class="te_res_filter_title d-none">Quick Filter</span>
                <div class="te_filter_btn_close">
                    <span class="te_filter_icon_close">x</span>
                </div>
                <ul class="te_quick_filter_ul nav nav-pills flex-column">
                    <t t-foreach="attributes" t-as="a">
                        <t t-if="request.env['website'].checkQuickFilter(website.id,a.website_ids.ids)">
                            <t t-if="website.id not in a.exclude_website_ids.ids">
                                <li t-if="a.is_quick_filter and a.value_ids and len(a.value_ids) &gt; 1"
                                    class="nav-item px-3">
                                    <div class="te_quick_filter_name mb8" t-if="a.is_quick_filter">
                                        <strong t-field="a.name"/>
                                        <a t-att-attribute-name="a.id" class="te_clear_all_variant px-3" href="#">
                                            (Clear)
                                        </a>
                                    </div>
                                    <t t-if="a.display_type == 'select'">
                                        <select class="form-control" name="attrib" t-if="a.is_quick_filter">
                                            <option value=""/>
                                            <t t-foreach="a.value_ids" t-as="v">
                                                <t t-if="is_associated_values_enabled">
                                                    <t t-if="v.id in allowed_attr_value_ids">
                                                        <t t-if="is_count_enable">
                                                            <t t-set="curr_count"
                                                               t-value="len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id'))"/>
                                                            <option t-att-value="'%s-%s' % (a.id,v.id)"
                                                                    t-esc="'%s (%s)' %(v.name,curr_count)"
                                                                    t-att-selected="v.id in attrib_set"/>
                                                        </t>
                                                        <t t-else="">
                                                            <option t-att-value="'%s-%s' % (a.id,v.id)" t-esc="v.name"
                                                                    t-att-selected="v.id in attrib_set"/>
                                                        </t>
                                                    </t>
                                                </t>
                                                <t t-else="">
                                                    <t t-if="is_count_enable">
                                                        <t t-set="curr_count"
                                                           t-value="len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id'))"/>
                                                        <option t-att-value="'%s-%s' % (a.id,v.id)"
                                                                t-esc="'%s (%s)' %(v.name,curr_count)"
                                                                t-att-selected="v.id in attrib_set"/>
                                                    </t>
                                                    <t t-else="">
                                                        <option t-att-value="'%s-%s' % (a.id,v.id)" t-esc="v.name"
                                                                t-att-selected="v.id in attrib_set"/>
                                                    </t>
                                                </t>
                                            </t>
                                        </select>
                                    </t>
                                    <t t-if="a.display_type == 'radio'">
                                        <ul class="nav nav-pills" t-if="a.is_quick_filter">
                                            <t t-foreach="a.value_ids" t-as="v">
                                                <t t-if="is_associated_values_enabled">
                                                    <t t-if="v.id in allowed_attr_value_ids">
                                                        <li class="nav-item">
                                                            <label t-attf-class="nav-link#{' active' if v.id in attrib_set else ''}">
                                                                <input type="checkbox" name="attrib"
                                                                       t-att-value="'%s-%s' % (a.id,v.id)"
                                                                       t-att-checked="'checked' if v.id in attrib_set else None"/>
                                                                <span class="te_qfilter_checkbox"
                                                                      style="font-weight: normal" t-field="v.name"/>
                                                                <span style="font-weight: normal" t-if="is_count_enable"
                                                                      t-esc="'(%s)'% (len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"/>
                                                            </label>
                                                        </li>
                                                    </t>
                                                </t>
                                                <t t-else="">
                                                    <li class="nav-item">
                                                        <label t-attf-class="nav-link#{' active' if v.id in attrib_set else ''}">
                                                            <input type="checkbox" name="attrib"
                                                                   t-att-value="'%s-%s' % (a.id,v.id)"
                                                                   t-att-checked="'checked' if v.id in attrib_set else None"/>
                                                            <span class="te_qfilter_checkbox"
                                                                  style="font-weight: normal" t-field="v.name"/>
                                                            <span style="font-weight: normal" t-if="is_count_enable"
                                                                  t-esc="'(%s)'% (len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"/>
                                                        </label>
                                                    </li>
                                                </t>
                                            </t>
                                        </ul>
                                    </t>
                                    <t t-if="a.display_type == 'color'">
                                        <ul class="nav nav-pills flex-column" t-if="a.is_quick_filter">
                                            <t t-foreach="a.value_ids" t-as="v">
                                                <t t-if="is_associated_values_enabled">
                                                    <t t-if="v.id in allowed_attr_value_ids">
                                                        <li class="py-1 nav-item">
                                                            <label t-attf-style="background-color:#{v.html_color or v.name}"
                                                                   t-attf-class="css_attribute_color #{'active' if v.id in attrib_set else ''}">
                                                                <input type="checkbox" name="attrib"
                                                                       t-att-value="'%s-%s' % (a.id,v.id)"
                                                                       t-att-checked="'checked' if v.id in attrib_set else None"
                                                                       t-att-title="v.name"/>
                                                            </label>
                                                            <span class="te_color-name" t-esc="v.name"/>
                                                            <span style="font-weight: normal" class="pl-1"
                                                                  t-if="is_count_enable"
                                                                  t-esc="'(%s)'% (len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"/>
                                                        </li>
                                                    </t>
                                                </t>
                                                <t t-else="">
                                                    <li class="py-1 nav-item">
                                                        <label t-attf-style="background-color:#{v.html_color or v.name}"
                                                               t-attf-class="css_attribute_color #{'active' if v.id in attrib_set else ''}">
                                                            <input type="checkbox" name="attrib"
                                                                   t-att-value="'%s-%s' % (a.id,v.id)"
                                                                   t-att-checked="'checked' if v.id in attrib_set else None"
                                                                   t-att-title="v.name"/>
                                                        </label>
                                                        <span class="te_color-name" t-esc="v.name"/>
                                                        <span style="font-weight: normal" class="pl-1"
                                                              t-if="is_count_enable"
                                                              t-esc="'(%s)'% (len(v.pav_attribute_line_ids.filtered(lambda pro: search_products and pro.product_tmpl_id.id in search_products[0].ids).mapped('product_tmpl_id')))"/>
                                                    </li>
                                                </t>
                                            </t>
                                        </ul>
                                    </t>
                                </li>
                            </t>
                        </t>

                    </t>

                </ul>
            </div>
        </xpath> -->
        <xpath expr="//button[@data-target='#wsale_products_attributes_collapse']" position="attributes">
            <attribute name="class">btn btn-link d-lg-none te_show_option</attribute>
        </xpath>
        <xpath expr="//button[@data-target='#wsale_products_attributes_collapse']" position="attributes">
            <attribute name="t-if">attributes</attribute>
        </xpath>
        <xpath expr="//button[@data-target='#wsale_products_attributes_collapse']" position="inside">
            <i class="fa fa-chevron-down"/>
        </xpath>
        <xpath expr="//div[@id='products_grid_before']" position="inside">
            <div class="te_quick_filter_res btn" href="#">
                <i class="fa fa-filter mr-1"/>
                Quick Filter
            </div>
        </xpath>
    </template>
    
    
    
     <!--======================= Brand Ecommerce Categories ==========================-->
    <template id="brand_products_categories_ept" inherit_id="custom_brand_page.brand_products_categories"
              name="Ecommerce Categories">
        <xpath expr="//div[@id='wsale_products_categories_collapse']/ul[hasclass('flex-column')]" position="before">
            <div class="te_ctg_h4 d-none d-lg-block">
                Product Category
            </div>
        </xpath>
        <xpath expr="//div[@id='wsale_products_categories_collapse']/ul[hasclass('flex-column')]"
               position="attributes">
            <attribute name="class">nav nav-pills flex-column mt16
                te_shop_ctg_list open_ul
            </attribute>
        </xpath>
        <xpath expr="//button[@data-target='#wsale_products_categories_collapse']" position="attributes">
            <attribute name="class">btn btn-link d-lg-none te_show_category</attribute>
        </xpath>
        <xpath expr="//button[@data-target='#wsale_products_categories_collapse']" position="inside">
            <i class="fa fa-chevron-right"></i>
        </xpath>
    </template>
    <template id="brand_option_collapse_categories_recursive_ept" name="Collapse Category Recursive"
              inherit_id="custom_brand_page.brand_option_collapse_categories_recursive">
        <xpath expr="//li[hasclass('nav-item')]//a" position="replace">
            <t t-if="c.is_category_page">
                <t t-set="category_url" t-value="c.sudo().category_page.url"/>
            </t>
            <t t-else="">
                <t t-set="category_url" t-value="keep('/brand/category/' + slug(c), category=0, brand_id=int(brand_id.id))"/>
            </t>
            <a t-att-href="category_url"
               t-attf-class="nav-link #{'active' if c.id == category.id else ''}">
                <span t-field="c.name"/>
            </a>
        </xpath>
    </template>
    
    <template id="brand_products_ept" inherit_id="custom_brand_page.brand_products" priority="15">
        <!-- Category Wise Landing Page -->
<!--         <xpath expr="//div[hasclass('oe_website_sale')]" position="before">
            <div t-if="category" class="te_shop_breadcrumb">
                <t t-set="categ_value" t-value="website.get_product_categs_path(category.id)"/>
                <t t-set="categ" t-value="categ_value.get('categ_set',False)"/>
                <t t-set="web_url" t-value="categ_value.get('web_url',False)"/>
                <ol class="breadcrumb">
                    <div class="container">
                        <li class="breadcrumb-item">
                            <a href="/shop">
                                <i class="fa fa-home"></i>
                            </a>
                        </li>
                        <t t-if="categ">
                            <t t-foreach="categ" t-as="c">
                                <t t-set="rec"
                                   t-value="request.env['product.public.category'].sudo().search([('id', '=', c)])"/>
                                <li class="breadcrumb-item">
                                    <a t-att-href="'/shop/category/%s' %slug(rec)">
                                        <span class="product_catg_breadcrumb" t-esc="rec.name"></span>
                                    </a>
                                </li>
                            </t>
                        </t>
                    </div>
                </ol>
            </div>
        </xpath> -->
        <xpath expr="//div[hasclass('products_pager')][1]" position="attributes">
            <attribute name="class">products_pager form-inline te_shop_pager
                te_shop_pager_top
            </attribute>
        </xpath>
        <xpath expr="//div[hasclass('products_pager')][2]" position="attributes">
            <attribute name="class">products_pager form-inline justify-content-end mt-3 mb-3
                te_shop_pager
            </attribute>
        </xpath>
        <xpath expr="//div[hasclass('products_pager')][1]" position="inside">
            <div class="te_view_all_filter_div">
                <span class="te_view_filter_span">Filters</span>
                <a class="te_clear_all_form_selection m-2">(Clear All)</a>
                <!-- Below line will add all filters at the top and have problem showing all values -->
                <!-- <div class="te_view_all_filter_inner"></div> -->
            </div>
        </xpath>
        <xpath expr="//div[hasclass('products_pager')][1]" position="after">
            <t t-if="(request.website.viewref('custom_brand_page.brand_products_categories').active) or (request.website.viewref('custom_brand_page.brand_products_attributes').active)">
                <div class="te_shop_filter_resp">
                    <span class="fa fa-align-left mr-1"></span>
                    <span class="filters-title-ept">Filters</span>
                </div>

                <!--<span class="te_shop_filter_resp_sticky te_shop_filter_resp">
                    <span class="fa fa-filter"></span>
                </span>-->
            </t>
        </xpath>
        <xpath expr="//div[@id='products_grid_before']" position="inside">
            <div class="te_filter_close te_filter_btn_close">
                <span class="te_filter_icon_close">x</span>
            </div>
        </xpath>
        <xpath expr="//t[@t-if='td_product']//td" position="attributes">
            <!--<attribute name="t-attf-class">oe_product #{td_product['class']} te_shop_grid</attribute>-->
            <attribute name="t-attf-class">oe_product te_shop_grid</attribute>
        </xpath>
        <xpath expr="//div[hasclass('products_pager')][1]" position="inside">
            <div class="te_quick_filter_main_div mt-3 ml-md-2">
                <span class="te_quick_filter_dropdown btn te_sort_btn">Quick Filter</span>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('products_pager')][1]/t[@t-call='website.pager']/t[@t-set='_classes']"
               position="replace">
            <t t-set="_classes">mt-3 ml-md-2</t>
        </xpath>
        <xpath expr="//div[hasclass('oe_website_sale')]//div[hasclass('o_wsale_products_main_row')]"
               position="attributes">
            <attribute name="t-attf-class">row o_wsale_products_main_row
                #{'enabled' if (request.website.viewref('custom_brand_page.brand_products_categories').active or request.website.viewref('custom_brand_page.brand_products_attributes').active) else ''}
            </attribute>
        </xpath>
        <!--============= Load more feature =================-->
        <xpath expr="//div[hasclass('oe_website_sale')]" position="before">
            <t t-set="is_shop" t-value="1"/>
            <t t-if="website.is_load_more">
                <input type="hidden" class="load_more_next_page" t-att-pager="pager"
                       t-att-first-page-url="pager['page_first']['url']" t-att-last-page-url="pager['page_last']['url']"
                       t-att-prev-page-url="pager['page_previous']['url']"
                       t-att-next-page-url="pager['page_next']['url']"
                       t-att-prev-page-num="pager['page_previous']['num']"
                       t-att-next-page-num="pager['page_next']['num']"
                       t-att-total-page="pager['page_count']" t-att-page-number="pager['page']['num']"
                       t-att-current-page-number="pager['page']['num']" t-att-current-page-url="pager['page']['url']"
                       t-att-button-scroll="website.button_or_scroll"/>
            </t>
        </xpath>
        <!--================== Load more buttons ======================-->
        <!--======= Load more previous button =======-->
        <xpath expr="//div[@id='products_grid']//div[hasclass('o_wsale_products_grid_table_wrapper')]"
               position="before">
            <t t-if="website.is_load_more and bins">
                <div class="d-none cus_theme_loader_layout_prev">
                    <div class="cus_theme_loader_div_layout">
                        <img t-attf-src="/web/image/website/#{website.id}/load_more_image"
                             class="img img-fluid"/>
                    </div>
                </div>
            </t>
            <t t-if="website.is_load_more and website.button_or_scroll == 'button' and bins">
                <div class="load_more_button_top_main">
                    <button t-attf-class="load_more_button_top btn te_theme_button #{'active' if pager['page']['num'] > 1 else ''} ">
                        <span t-field="website.prev_button_label"/>
                    </button>
                </div>
            </t>
        </xpath>
        <!--======= Load more next button =======-->
        <xpath expr="//div[@id='products_grid']//div[hasclass('o_wsale_products_grid_table_wrapper')]" position="after">
            <t t-if="website.is_load_more and website.button_or_scroll == 'button' and bins">
                <div class="load_more_button_top_main">
                    <button t-attf-class="load_more_button btn te_theme_button #{'active' if pager['page']['num'] &gt;= 1 and pager['page']['num'] &lt; pager['page_count'] else 'test'}">
                        <span t-field="website.next_button_label"/>
                    </button>
                </div>
            </t>
            <t t-if="website.is_load_more and bins">
                <div class="d-none cus_theme_loader_layout_next">
                    <div class="cus_theme_loader_div_layout">
                        <img t-attf-src="/web/image/website/#{website.id}/load_more_image"
                             class="img img-fluid"/>
                    </div>
                </div>
            </t>
        </xpath>
    </template>
    
    <template id="brand_info" name="Brand Info">
			<t t-call="website.layout">
				<div class="py-2 oe_website_sale">
					<div class="oe_structure">
						<section class="s_text_image pt32 pb32">
							<div class="container">
								<div class="row align-items-center">
								
									
									
									<div class="col-lg-10 pt16 pb16">
										<h2 class="o_default_snippet_text text-center">
											<t t-esc="brand_id.name" />
										</h2>
									</div>
									
									<div class="col-lg-2 pt16 pb16">
										<span t-field="brand_id.logo"
											t-options='{"widget": "image",  "style":"width:50%;  display:inline"}' />
									</div>
									
									<div class="col-lg-12 pt1 pb1">
										<p class="o_default_snippet_text">
											<t t-raw="brand_id.description" />
										</p>
									</div>
									
								</div>
							</div>
						</section>
					</div>
				</div>
		
			<t t-call="custom_brand_page.brand_products"/>
        </t>
    </template>
    
     <template id="brand_add_grid_or_list_option_ept" inherit_id="custom_brand_page.brand_add_grid_or_list_option">
        <xpath expr="//div[hasclass('o_wsale_apply_layout')]//label[1]" position="replace">
            <label t-attf-class="btn #{'active' if layout_mode != 'list' else None} fa fa-th-large o_wsale_apply_grid te_shop_grid_btn mr-2"
                   title="Grid">
                <input type="radio" name="wsale_products_layout"
                       t-att-checked="'checked' if layout_mode != 'list' else None"/>
            </label>
        </xpath>
        <xpath expr="//div[hasclass('o_wsale_apply_layout')]//label[2]" position="replace">
            <label t-attf-class="btn #{'active' if layout_mode == 'list' else None} fa fa-th-list o_wsale_apply_list te_shop_list_btn"
                   title="List">
                <input type="radio" name="wsale_products_layout"
                       t-att-checked="'checked' if layout_mode == 'list' else None"/>
            </label>
        </xpath>
        <xpath expr="//div[hasclass('o_wsale_apply_layout')]" position="attributes">
            <attribute name="class">btn-group btn-group-toggle mt-3 ml-md-2 d-none d-sm-inline-flex
                o_wsale_apply_layout
            </attribute>
        </xpath>
    </template> 
    
    
    

</odoo>
